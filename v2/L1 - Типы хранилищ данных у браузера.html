<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Интерактивный тест</title>
<style>
    #testContainer, #results { display: none; }
    .question { margin-bottom: 20px; }
    .start-btn { font-size: 20px; padding: 10px 20px; }
    .correct-answer { color: green; font-weight: bold; }
    .incorrect-answer { color: red; font-weight: bold; }
    .feedback { margin-top: 10px; }
    #results ul { list-style-type: none; padding: 0; }
    #results li { margin-bottom: 20px; border: 1px solid #ccc; padding: 10px; }
    .return-button { display: inline-block; padding: 10px 20px; background-color: dimgray; color: white; text-decoration: none; border-radius: 5px; 
                     font-size: 1rem; text-align: center; cursor: pointer; border: 0.2px solid rgb(0, 0, 0); margin-top: 5px;}
    .return-button:hover { background-color: rgb(136, 133, 133); border: 0.2px solid rgb(0, 0, 0); }

</style>
</head>
<body>
<div id="startContainer">
    <button class="start-btn" onclick="startTest()">Начать тест</button>
</div>
<div id="ReturnContainer">
    <a href="../index.html" class="return-button">Вернуться на главную</a>
</div>
<div id="testContainer">
    <!-- Вопросы будут вставлены сюда -->
</div>
<div id="results">
    <h3>Результаты:</h3>
    <ul id="resultList"></ul>
    <button onclick="resetTest()">Начать заново</button>
</div>

<script>
const questions = [
{
        question: "1. Что такое Local Storage?",
        answers: [
            "Временное хранилище данных, которое очищается при закрытии браузера.",
            "Постоянное хранилище данных, которое сохраняется даже после закрытия браузера.",
            "Хранилище данных, доступное только во время сессии.",
            "Хранилище данных, которое синхронизируется между устройствами."
        ],
        correct: ["Постоянное хранилище данных, которое сохраняется даже после закрытия браузера."]
    },
    {
        question: "2. Что такое Session Storage?",
        answers: [
            "Временное хранилище данных, которое очищается при закрытии вкладки или браузера.",
            "Постоянное хранилище данных, которое сохраняется даже после закрытия браузера.",
            "Хранилище данных, доступное только для одного запроса.",
            "Хранилище данных, которое синхронизируется между устройствами."
        ],
        correct: ["Временное хранилище данных, которое очищается при закрытии вкладки или браузера."]
    },
    {
        question: "3. Что такое Cookies?",
        answers: [
            "Хранилище данных, используемое для хранения больших объемов информации.",
            "Небольшие текстовые файлы, которые хранятся на стороне клиента и используются для отслеживания состояния сессии.",
            "Хранилище данных, доступное только во время сессии.",
            "Хранилище данных, которое синхронизируется между устройствами."
        ],
        correct: ["Небольшие текстовые файлы, которые хранятся на стороне клиента и используются для отслеживания состояния сессии."]
    },
    {
        question: "4. Что такое IndexedDB?",
        answers: [
            "Временное хранилище данных, которое очищается при закрытии браузера.",
            "Постоянное хранилище данных, которое сохраняется даже после закрытия браузера.",
            "Нереляционная база данных, которая позволяет хранить большие объемы структурированных данных.",
            "Хранилище данных, доступное только во время сессии."
        ],
        correct: ["Нереляционная база данных, которая позволяет хранить большие объемы структурированных данных."]
    },
    {
        question: "5. Что такое Cache Storage?",
        answers: [
            "Хранилище данных, используемое для хранения больших объемов информации.",
            "Хранилище данных, доступное только во время сессии.",
            "Хранилище данных, которое используется для кэширования ресурсов (например, файлов CSS, JS, изображений).",
            "Хранилище данных, которое синхронизируется между устройствами."
        ],
        correct: ["Хранилище данных, которое используется для кэширования ресурсов (например, файлов CSS, JS, изображений)."]
    },
    {
        question: "6. Как проверить, что данные сохраняются в Local Storage?",
        answers: [
            "Открыть инструменты разработчика (DevTools) и проверить вкладку 'Application'.",
            "Проверить вкладку 'Network' в инструментах разработчика.",
            "Проверить вкладку 'Console' в инструментах разработчика.",
            "Проверить вкладку 'Performance' в инструментах разработчика."
        ],
        correct: ["Открыть инструменты разработчика (DevTools) и проверить вкладку 'Application'."]
    },
    {
        question: "7. Как проверить, что данные удаляются из Session Storage после закрытия вкладки?",
        answers: [
            "Открыть новую вкладку и проверить данные в Session Storage.",
            "Закрыть вкладку, открыть ее снова и проверить данные в Session Storage.",
            "Проверить данные в Local Storage.",
            "Проверить данные в Cookies."
        ],
        correct: ["Закрыть вкладку, открыть ее снова и проверить данные в Session Storage."]
    },
    {
        question: "8. Как проверить, что Cookies устанавливаются корректно?",
        answers: [
            "Открыть инструменты разработчика (DevTools) и проверить вкладку 'Application'.",
            "Проверить вкладку 'Network' в инструментах разработчика.",
            "Проверить вкладку 'Console' в инструментах разработчика.",
            "Проверить вкладку 'Performance' в инструментах разработчика."
        ],
        correct: ["Открыть инструменты разработчика (DevTools) и проверить вкладку 'Application'."]
    },
    {
        question: "9. Как проверить, что данные сохраняются в IndexedDB?",
        answers: [
            "Открыть инструменты разработчика (DevTools) и проверить вкладку 'Application'.",
            "Проверить вкладку 'Network' в инструментах разработчика.",
            "Проверить вкладку 'Console' в инструментах разработчика.",
            "Проверить вкладку 'Performance' в инструментах разработчика."
        ],
        correct: ["Открыть инструменты разработчика (DevTools) и проверить вкладку 'Application'."]
    },
    {
        question: "10. Как проверить, что ресурсы кэшируются в Cache Storage?",
        answers: [
            "Открыть инструменты разработчика (DevTools) и проверить вкладку 'Application'.",
            "Проверить вкладку 'Network' в инструментах разработчика.",
            "Проверить вкладку 'Console' в инструментах разработчика.",
            "Проверить вкладку 'Performance' в инструментах разработчика."
        ],
        correct: ["Открыть инструменты разработчика (DevTools) и проверить вкладку 'Application'."]
    },
    {
        question: "11. Если данные не сохраняются в Local Storage, что вы проверите в первую очередь?",
        answers: [
            "Корректность кода, который записывает данные.",
            "Наличие ошибок в консоли браузера.",
            "Настройки браузера, которые могут блокировать Local Storage.",
            "Все вышеперечисленное."
        ],
        correct: ["Все вышеперечисленное."]
    },
    {
        question: "12. Если Cookies не устанавливаются, что вы проверите в первую очередь?",
        answers: [
            "Корректность кода, который устанавливает Cookies.",
            "Наличие ошибок в консоли браузера.",
            "Настройки браузера, которые могут блокировать Cookies.",
            "Все вышеперечисленное."
        ],
        correct: ["Все вышеперечисленное."]
    },
    {
        question: "13. Если данные в Session Storage исчезают раньше времени, что вы проверите?",
        answers: [
            "Корректность кода, который управляет Session Storage.",
            "Не закрывается ли вкладка или браузер раньше времени.",
            "Настройки браузера, которые могут влиять на Session Storage.",
            "Все вышеперечисленное."
        ],
        correct: ["Все вышеперечисленное."]
    },
    {
        question: "14. Если IndexedDB не сохраняет данные, что вы проверите в первую очередь?",
        answers: [
            "Корректность кода, который работает с IndexedDB.",
            "Наличие ошибок в консоли браузера.",
            "Настройки браузера, которые могут блокировать IndexedDB.",
            "Все вышеперечисленное."
        ],
        correct: ["Все вышеперечисленное."]
    },
    {
        question: "15. Если ресурсы не кэшируются в Cache Storage, что вы проверите?",
        answers: [
            "Корректность кода, который управляет кэшированием.",
            "Наличие ошибок в консоли браузера.",
            "Настройки браузера, которые могут блокировать Cache Storage.",
            "Все вышеперечисленное."
        ],
        correct: ["Все вышеперечисленное."]
    }
];

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

function startTest() {
    document.getElementById('startContainer').style.display = 'none';
    const testContainer = document.getElementById('testContainer');
    testContainer.innerHTML = '';
    questions.forEach((q, qIndex) => {
        const questionDiv = document.createElement('div');
        questionDiv.className = 'question';
        questionDiv.innerHTML = `<h3>${q.question}</h3>`;
        shuffleArray(q.answers);
        q.answers.forEach(answer => {
            questionDiv.innerHTML += `<label><input type="checkbox" name="question${qIndex}" value="${answer}"> ${answer}</label><br>`;
        });
        // Добавляем место для отображения правильного ответа
        questionDiv.innerHTML += `<div class="feedback" id="feedback${qIndex}"></div>`;
        testContainer.appendChild(questionDiv);
    });
    testContainer.innerHTML += '<button onclick="checkAnswers()">Проверить</button>';
    testContainer.style.display = 'block';
}

function checkAnswers() {
    const results = [];
    questions.forEach((q, qIndex) => {
        const selected = [];
        const inputs = document.querySelectorAll(`input[name="question${qIndex}"]`);
        inputs.forEach(input => {
            if (input.checked) {
                selected.push(input.value);
            }
            // Сбрасываем классы перед проверкой
            input.parentElement.classList.remove('correct', 'incorrect');
        });

        // Проверяем каждый ответ
        let isCorrect = selected.sort().toString() === q.correct.sort().toString();
        if (!isCorrect) {
            results.push(`Вопрос: ${q.question}<br>Выбрано: ${selected.join(', ')}<br>Правильно: ${q.correct.join(', ')}`);
        }

        // Отображаем правильный ответ под вопросом
        const feedbackDiv = document.getElementById(`feedback${qIndex}`);
        feedbackDiv.innerHTML = isCorrect 
            ? `<span class="correct-answer">Ваш ответ правильный!</span>` 
            : `<span class="incorrect-answer">Правильный ответ: ${q.correct.join(', ')}</span>`;
    });

    const resultList = document.getElementById('resultList');
    resultList.innerHTML = results.map(r => `<li>${r}</li>`).join('');
    document.getElementById('results').style.display = 'block';
}

function resetTest() {
    document.getElementById('results').style.display = 'none';
    document.getElementById('startContainer').style.display = 'block';
    document.getElementById('testContainer').style.display = 'none';
    // Сбрасываем классы при сбросе теста
    const inputs = document.querySelectorAll('input');
    inputs.forEach(input => {
        input.parentElement.classList.remove('correct', 'incorrect');
    });
    // Очищаем отзывы
    const feedbacks = document.querySelectorAll('.feedback');
    feedbacks.forEach(feedback => feedback.innerHTML = '');
}
</script>
</body>
</html>